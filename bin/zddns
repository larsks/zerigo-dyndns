#!/usr/bin/env python

import os
import sys
import optparse
import configobj

import zerigo

def parse_args():
    p = optparse.OptionParser()
    p.add_option('-f', '--config',
            default='/etc/zerigo/zerigo.conf')

    return p.parse_args()

def main():
    opts, args = parse_args()

    cf = configobj.ConfigObj(opts.config)
    z = zerigo.Zerigo(cf)

    zone, host, ipaddr = args

    z.update_address(zone, host, ipaddr)

if __name__ == '__main__':
    main()

